<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>
    {% block title %}
      Environmental Data Initiative (EDI)
    {% endblock %}
  </title>

  <!-- Bootstrap CSS -->
  <link href='/static/lib/bootstrap/css/bootstrap.css' rel='stylesheet'>
  <!-- Extra styles for auth -->
  <link href='/static/css/base.css' rel='stylesheet'>
  {% block head %}
  {% endblock %}
</head>
<body>

<nav class='navbar navbar-expand-lg navbar-light bg-light'>

  <div class='container-fluid'>

    <a class='navbar-brand' href='/'>
      <img src='/static/svg/EDI-logo-no-padding.svg'
           alt='Environmental Data Initiative Logo'>
      <span class='navbar-brand-pad'>Environmental Data Initiative (EDI)</span>
    </a>

    {% block navbar_menu %}

      <button class='navbar-toggler' type='button' data-toggle='collapse'
              data-target='#navbarContent' aria-controls='navbarContent'
              aria-expanded='false'
              aria-label='Toggle navigation'>
        <span class='navbar-toggler-icon'></span>
      </button>

      <!-- Menu, left -->

      <ul class='navbar-nav mr-auto'>

        <li class='nav-item'>
          <a class='nav-link {% if not token %}disabled{% endif %}' href='/profile'>Profile</a>
        </li>
        <li class='nav-item'>
          <a class='nav-link {% if not token %}disabled{% endif %}' href='/identity'>Accounts</a>
        </li>
        <li class='nav-item'>
          <a class='nav-link {% if not token %}disabled{% endif %}' href='/group'>Groups</a>
        </li>
      </ul>

      <!--Menu, right-->

      <ul class='navbar-nav mr-auto navbar-right'>
        {% if not token %}
          <li class='nav-item'>
            <a class='nav-link active' href='/signin'>Sign in</a>
          </li>
        {% endif %}

        {% if token %}
          <li class='nav-item'>
            <div class='row-center-parent'>
              <div class='row-center-child'>
                <img src='{{ avatar_url }}' alt='Avatar' class='avatar'>
              </div>
              <div class='row-center-child'>
                <a class='nav-link' href='/signout'>
                  <img src="/static/svg/sign-out.svg" alt="Sign out" class='icon-link'>
                  Sign out
                </a>
              </div>
            </div>
          </li>
        {% endif %}

        <li class='nav-item'>
          <a class='nav-link' href='/dev'> </a>
        </li>

      </ul>

    {% endblock %}

  </div>
</nav>


<main role='main' class='container'>
  {% block content %}
  {% endblock %}
</main>

<!-- Bootstrap Bundle with Popper -->
<script src='/static/lib/bootstrap/js/bootstrap.bundle.js'></script>
<!-- Bootstrap 5 does not use jQuery, but we do -->
<script src='/static/lib/jquery-3.7.1.js'></script>
<!-- js that runs on all pages -->
<script src='/static/js/base.js'></script>
{% block scripts %}
  {# By importing scripts just before the /body tag, we don't have to wrap scripts
  in checks for fully loaded DOM #}
{% endblock %}
</body>
</html>
